"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[567],{567:function(e,s,a){a.r(s),a.d(s,{default:function(){return x},webSocket:function(){return v}});var n=a(2982),t=a(885),r=a(2791),c="Chat_chatPage__vBaCB",u="Chat_messages__UMxjL",i="Chat_message__ySW5b",l="Chat_avatar__bWlGc",o="Chat_body__flGjt",d="Chat_userName__BoRkW",h="Chat_blueButton__jLeDQ",_=a(184),m=function(){var e=(0,r.useState)(""),s=(0,t.Z)(e,2),a=s[0],n=s[1];return(0,_.jsxs)("form",{children:[(0,_.jsx)("textarea",{onChange:function(e){return n(e.currentTarget.value)},value:a}),(0,_.jsx)("button",{onClick:function(){a&&(v.send(a),n(""))},className:h,children:"Send"})]})},f=a(393),j=function(e){var s=e.message,a=s.photo,n=s.userName,t=s.message;return(0,_.jsxs)("div",{className:i,children:[(0,_.jsx)("div",{className:l,children:(0,_.jsx)("img",{src:a||f,alt:f})}),(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("div",{className:d,children:n}),(0,_.jsx)("div",{className:i,children:t})]})]})},v=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),x=function(){var e=(0,r.useState)([]),s=(0,t.Z)(e,2),a=s[0],i=s[1];return(0,r.useEffect)((function(){v.addEventListener("message",(function(e){var s=JSON.parse(e.data);return i((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(s))}))}))}),[]),(0,_.jsxs)("section",{className:c,children:[(0,_.jsx)("div",{className:u,children:a.map((function(e,s){return(0,_.jsx)(j,{message:e},s)}))}),(0,_.jsx)(m,{})]})}}}]);
//# sourceMappingURL=567.c85068b8.chunk.js.map