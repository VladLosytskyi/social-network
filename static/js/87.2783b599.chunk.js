"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[87],{3087:function(s,t,e){e.r(t),e.d(t,{default:function(){return H}});var a=e(8683),n=e(2791),r=e(7781),i=e(364),o=e(6871),u=e(6070),l="Profile_profile__n+LxT",c=e(2982),d="MyPosts_postsBlock__xF1+G",f="MyPosts_posts__qWDsY",p="MyPosts_blueButton__CybSN",h="Post_post__G6WIJ",x="Post_profileImage__DT8Ht",j="Post_postText__8zl55",m="Post_likes__4-pyj",_=e(184),v=function(s){var t=s.message,e=s.likesCount;return(0,_.jsxs)("div",{className:h,children:[(0,_.jsx)("img",{className:x,src:"https://cdn-icons-png.flaticon.com/512/1464/1464795.png",alt:"Profile avatar"}),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:j,children:t}),(0,_.jsxs)("div",{className:m,children:[e,(0,_.jsx)("span",{children:" likes"})]})]})]})},g=e(6139),P=e(704),N=e(5441),S=e(7791),k=[S.C,(0,S.D)(50)],C=(0,P.Z)({form:"profileMyPostsForm"})((function(s){var t=s.handleSubmit;return(0,_.jsxs)("form",{onSubmit:t,children:[(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{component:N.g,name:"newPostText",placeholder:"Enter your post text...",validate:k})}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{className:p,children:"Add post"})})]})})),b=n.memo((function(s){var t=(0,c.Z)(s.posts).reverse().map((function(s){return(0,_.jsx)(v,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("h3",{children:"My posts"}),(0,_.jsx)(C,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,_.jsx)("div",{className:f,children:t})]})})),I={addPost:u.q2},Z=(0,i.$j)((function(s){return{posts:s.profilePage.posts}}),I)(b),T="ProfileInfo_blueText__aphDT",y="ProfileInfo_profileDescription__A-H9Z",D="ProfileInfo_status__FQ334",w="ProfileInfo_statusInput__-cX0T",F="ProfileInfo_blueButton__VqmxD",M=e(6135),U=e(885),q=function(s){var t=(0,n.useState)(!1),e=(0,U.Z)(t,2),a=e[0],r=e[1],i=(0,n.useState)(s.status),o=(0,U.Z)(i,2),u=o[0],l=o[1];(0,n.useEffect)((function(){l(s.status)}),[s.status]);return(0,_.jsx)("div",{children:a?(0,_.jsxs)("div",{className:D,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("span",{className:T,children:"Status:"}),(0,_.jsx)("input",{onChange:function(s){l(s.currentTarget.value)},value:u,autoFocus:!0,className:w})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("button",{onClick:function(){r(!1),s.updateStatus(u)},className:F,children:"Save Changes"}),(0,_.jsx)("button",{onClick:function(){r(!1)},className:F,children:"Discard Changes"})]})]}):(0,_.jsxs)("div",{className:D,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("span",{className:T,children:"Status: "}),(0,_.jsx)("span",{children:s.status||"No status"})]}),(0,_.jsx)("button",{onClick:function(){r(!0)},className:F,children:"Change Status"})]})})},A=function(s){var t=s.profile,e=s.status,a=s.updateStatus;return(0,_.jsx)(_.Fragment,{children:t?(0,_.jsxs)("div",{className:y,children:[(0,_.jsx)("img",{src:t.photos.large,alt:"Profile photo"}),(0,_.jsxs)("div",{children:[(0,_.jsx)("span",{className:T,children:"Nickname: "}),(0,_.jsx)("span",{children:t.fullName})]}),(0,_.jsx)(q,{status:e,updateStatus:a,profile:t})]}):(0,_.jsx)(M.Z,{})})},B=function(s){var t=s.profile,e=s.status,a=s.updateStatus;return(0,_.jsxs)("section",{className:l,children:[(0,_.jsx)(A,{profile:t,status:e,updateStatus:a}),(0,_.jsx)(Z,{})]})};var E={getUserProfile:u.et,getStatus:u.lR,updateStatus:u.Nf},H=(0,r.qC)((0,i.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),E),(function(s){return function(t){var e=(0,o.TH)(),n=(0,o.s0)(),r=(0,o.UO)();return(0,_.jsx)(s,(0,a.Z)((0,a.Z)({},t),{},{router:{location:e,navigate:n,params:r}}))}}))((function(s){return(0,n.useEffect)((function(){var t=s.router.params.userId;t||(t=s.authorisedUserId)||s.history.push("/login"),s.getUserProfile(t),s.getStatus(t)}),[]),(0,_.jsx)(B,(0,a.Z)((0,a.Z)({},s),{},{profile:s.profile,status:s.status,updateStatus:s.updateStatus}))}))}}]);
//# sourceMappingURL=87.2783b599.chunk.js.map